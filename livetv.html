<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JPV TV â€” LIVE BROADCAST</title>
  <style>
    body{
      margin:0;
      font-family:Arial,Helvetica,sans-serif;
      background:linear-gradient(135deg,#1a1a1a,#2d2d2d);
      color:#fff;
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:flex-start;
      min-height:100vh;
      overflow-x:hidden;
    }
    header{
      display:flex;
      align-items:center;
      gap:12px;
      padding:16px;
    }
    header img{
      height:50px;
      border-radius:8px;
    }
    header h1{
      font-size:24px;
      margin:0;
      color:orange;
    }
    .live-badge{
      background:red;
      color:#fff;
      font-size:12px;
      font-weight:bold;
      padding:4px 8px;
      border-radius:4px;
      margin-left:10px;
      animation: pulse 1s infinite;
    }
    @keyframes pulse{
      0%{opacity:1}50%{opacity:.5}100%{opacity:1}
    }
    .player{
      width:100%;
      max-width:960px;
      margin:0 auto;
      padding:12px;
    }
    video{
      width:100%;
      max-height:70vh;
      background:#000;
      border:3px solid orange;
      border-radius:8px;
      box-shadow:0 4px 20px rgba(0,0,0,.6);
    }
    .brand{
      position:fixed;
      top:10px;
      right:10px;
      background:rgba(255,165,0,0.1);
      border:1px solid orange;
      padding:6px 10px;
      border-radius:6px;
      font-size:12px;
      color:orange;
      font-weight:bold;
    }
    .popup{
      position:fixed;
      top:0;left:0;right:0;bottom:0;
      background:rgba(0,0,0,0.85);
      display:flex;
      align-items:center;
      justify-content:center;
      z-index:9999;
      visibility:hidden;
      flex-direction:column;
      opacity:0;
      transition:opacity .5s ease;
    }
    .popup.show{
      visibility:visible;
      opacity:1;
    }
    .popup img{
      max-width:90%;
      max-height:80%;
      border-radius:12px;
      box-shadow:0 4px 30px rgba(0,0,0,.6);
      border:3px solid orange;
      animation-duration:1s;
      animation-fill-mode:both;
    }
    .popup button{
      margin-top:16px;
      padding:8px 16px;
      background:orange;
      border:none;
      color:#000;
      font-weight:bold;
      border-radius:6px;
      cursor:pointer;
    }
    #countdown{
      margin:10px;
      font-size:16px;
      font-weight:bold;
      color:orange;
    }
    /* Animations */
    @keyframes zoomIn{0%{transform:scale(0.5);opacity:0}100%{transform:scale(1);opacity:1}}
    @keyframes rotateIn{0%{transform:rotate(-200deg);opacity:0}100%{transform:rotate(0);opacity:1}}
    @keyframes slideDown{0%{transform:translateY(-100%);opacity:0}100%{transform:translateY(0);opacity:1}}
    @keyframes bounceIn{0%,20%,40%,60%,80%,100%{animation-timing-function:cubic-bezier(0.215,.61,.355,1)}0%{transform:scale(.3);opacity:0}20%{transform:scale(1.1)}40%{transform:scale(.9)}60%{transform:scale(1.03)}80%{transform:scale(.97)}100%{transform:scale(1);opacity:1}}
  </style>
</head>
<body>
  <header>
    <img src="https://i.ibb.co/Z6Mf2dBF/Untitled-design.jpg" alt="JPV TV Logo">
    <h1>JPV TV <span class="live-badge">LIVE</span></h1>
  </header>

  <div id="countdown">Starting in 5 seconds...</div>

  <div class="player">
    <video id="video" controls playsinline></video>
  </div>

  <div class="brand">Powered by VONNHOST</div>

  <div class="popup" id="popup">
    <img id="popupImg" src="https://jpvradio.online/if%20the%20stream%20dont%20load%20kindly%20refresh%20the%20page%20or%20click%20the%20backup%20player.png" alt="JPV TV Popup">
    <button id="closePopup">X Close</button>
  </div>

  <!-- HLS.js -->
  <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0/dist/hls.min.js"></script>
  <script>
    const HLS_URL = 'https://live20.bozztv.com/akamaissh101/ssh101/jpvradio/playlist.m3u8';
    const video = document.getElementById('video');
    const popup = document.getElementById('popup');
    const popupImg = document.getElementById('popupImg');
    const closePopup = document.getElementById('closePopup');
    const countdownEl = document.getElementById('countdown');
    let clickCount = 0;

    // Countdown timer (5 seconds)
    let counter = 5;
    const timer = setInterval(() => {
      counter--;
      if(counter > 0){
        countdownEl.textContent = `Starting in ${counter} seconds...`;
      } else {
        clearInterval(timer);
        countdownEl.textContent = '';
        startStream();
      }
    }, 1000);

    function startStream(){
      if (video.canPlayType('application/vnd.apple.mpegurl')) {
        video.src = HLS_URL;
        video.play().catch(()=>{});
      } else if (Hls.isSupported()) {
        const hls = new Hls();
        hls.loadSource(HLS_URL);
        hls.attachMedia(video);
        video.play().catch(()=>{});
      } else {
        console.error('This browser does not support HLS');
      }
    }

    // Random animations
    const animations = ['zoomIn','rotateIn','slideDown','bounceIn'];
    function triggerPopup(){
      const anim = animations[Math.floor(Math.random()*animations.length)];
      popupImg.style.animationName = anim;
      popup.classList.add('show');
    }

    // Show popup every 3 clicks or right-click
    document.addEventListener('click', () => {
      clickCount++;
      if(clickCount % 3 === 0){
        triggerPopup();
      }
    });

    document.addEventListener('contextmenu', (e) => {
      e.preventDefault();
      triggerPopup();
    });

    closePopup.addEventListener('click', () => {
      popup.classList.remove('show');
    });
  </script>
</body>
</html>
