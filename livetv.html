<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>JPV TV â€” HLS.js Player</title>
  <style>
    body{
      margin:0;
      font-family:'Segoe UI',Arial,Helvetica,sans-serif;
      background:#111;
      color:#fff;
      display:flex;
      flex-direction:column;
      min-height:100vh;
    }
    header{
      position:sticky;
      top:0;
      display:flex;
      align-items:center;
      justify-content:center;
      gap:10px;
      background:#1a1a1a;
      padding:10px;
      z-index:10;
      border-bottom:2px solid orange;
    }
    header img{
      height:36px;
      border-radius:6px;
    }
    header h1{
      font-size:18px;
      margin:0;
      color:#fff;
      display:flex;
      align-items:center;
      gap:6px;
    }
    .live-badge{
      background:red;
      color:#fff;
      font-size:11px;
      font-weight:bold;
      padding:2px 6px;
      border-radius:4px;
      animation:pulse 1s infinite;
    }
    @keyframes pulse{0%{opacity:1}50%{opacity:.4}100%{opacity:1}}

    .player{
      width:100%;
      flex:1;
      display:flex;
      justify-content:center;
      align-items:center;
      padding:10px;
      flex-direction:column;
    }
    video{
      width:100%;
      max-width:1000px;
      border:none;
      border-radius:8px;
      background:#000;
      box-shadow:0 0 20px rgba(255,165,0,0.3);
    }
    .unmute-notice{
      margin-top:10px;
      font-size:14px;
      color:orange;
      font-weight:bold;
      text-align:center;
      animation:blink 1.2s infinite;
    }
    @keyframes blink{50%{opacity:0.4}}

    .brand{
      position:fixed;
      top:10px;
      right:10px;
      background:rgba(255,165,0,0.2);
      border:1px solid orange;
      padding:4px 8px;
      border-radius:6px;
      font-size:11px;
      color:orange;
      font-weight:bold;
      z-index:5;
    }
    #countdown{
      text-align:center;
      font-size:15px;
      font-weight:bold;
      color:orange;
      padding:6px;
    }
    .popup{
      position:fixed;
      top:0;left:0;right:0;bottom:0;
      background:rgba(0,0,0,0.9);
      display:flex;
      flex-direction:column;
      align-items:center;
      justify-content:center;
      z-index:9999;
      visibility:hidden;
      opacity:0;
      transition:opacity .4s ease;
      padding:20px;
    }
    .popup.show{visibility:visible;opacity:1;}
    .popup img{
      width:100%;
      max-width:420px;
      border-radius:10px;
      border:2px solid orange;
      animation-duration:.8s;
      animation-fill-mode:both;
    }
    .popup button{
      margin-top:15px;
      padding:10px 20px;
      background:orange;
      border:none;
      color:#000;
      font-weight:bold;
      border-radius:6px;
      font-size:14px;
      cursor:pointer;
    }

    /* Animations */
    @keyframes zoomIn{0%{transform:scale(.5);opacity:0}100%{transform:scale(1);opacity:1}}
    @keyframes slideUp{0%{transform:translateY(100%);opacity:0}100%{transform:translateY(0);opacity:1}}
    @keyframes fadeIn{0%{opacity:0}100%{opacity:1}}
    @keyframes rotateIn{0%{transform:rotate(-180deg);opacity:0}100%{transform:rotate(0);opacity:1}}
  </style>
</head>
<body>
  <header>
    <img src="https://i.ibb.co/Z6Mf2dBF/Untitled-design.jpg" alt="JPV TV Logo">
    <h1>JPV TV <span class="live-badge">LIVE</span></h1>
  </header>

  <div id="countdown">Starting in 5 seconds...</div>

  <div class="player">
    <video id="video" controls playsinline muted autoplay></video>
    <div class="unmute-notice">ðŸ”Š Video is muted â€” Tap speaker icon to unmute</div>
  </div>

  <div class="brand">Powered by VONNHOST</div>

  <div class="popup" id="popup">
    <img id="popupImg" src="https://jpvradio.online/if%20the%20stream%20dont%20load%20kindly%20refresh%20the%20page%20or%20click%20the%20backup%20player.png" alt="JPV TV Popup">
    <button id="closePopup">X Close</button>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/hls.js@1.4.0/dist/hls.min.js"></script>
  <script>
    const HLS_URL = 'https://live20.bozztv.com/akamaissh101/ssh101/jpvradio/playlist.m3u8';
    const video = document.getElementById('video');
    const popup = document.getElementById('popup');
    const popupImg = document.getElementById('popupImg');
    const closePopup = document.getElementById('closePopup');
    const countdownEl = document.getElementById('countdown');
    let clickCount = 0;

    // Countdown 5s
    let counter = 5;
    const timer = setInterval(()=>{
      counter--;
      if(counter>0){
        countdownEl.textContent = `Starting in ${counter} seconds...`;
      } else {
        clearInterval(timer);
        countdownEl.textContent = '';
        startStream();
      }
    },1000);

    function startStream(){
      if(video.canPlayType('application/vnd.apple.mpegurl')){
        video.src = HLS_URL;
        video.play().catch(()=>{});
      } else if(Hls.isSupported()){
        const hls = new Hls();
        hls.loadSource(HLS_URL);
        hls.attachMedia(video);
        video.play().catch(()=>{});
      }
    }

    // Random animations for popup
    const animations=['zoomIn','slideUp','fadeIn','rotateIn'];
    function triggerPopup(){
      const anim=animations[Math.floor(Math.random()*animations.length)];
      popupImg.style.animationName=anim;
      popup.classList.add('show');
    }

    document.addEventListener('click',()=>{
      clickCount++;
      if(clickCount%3===0){triggerPopup();}
    });
    document.addEventListener('contextmenu',(e)=>{
      e.preventDefault();
      triggerPopup();
    });
    closePopup.addEventListener('click',()=>{
      popup.classList.remove('show');
    });
  </script>
</body>
</html>
